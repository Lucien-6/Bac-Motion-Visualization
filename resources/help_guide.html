<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bac-Motion Visualization - User Guide</title>
    <style>
        :root {
            --primary: #2563eb;
            --primary-dark: #1d4ed8;
            --secondary: #64748b;
            --accent: #06b6d4;
            --success: #10b981;
            --warning: #f59e0b;
            --danger: #ef4444;
            --bg-main: #f8fafc;
            --bg-card: #ffffff;
            --bg-code: #f1f5f9;
            --text-primary: #1e293b;
            --text-secondary: #35373b;
            --text-muted: #94a3b8;
            --border: #e2e8f0;
            --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1);
            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -4px rgba(0, 0, 0, 0.1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', -apple-system, BlinkMacSystemFont, 'Roboto', 'Helvetica Neue', Arial, sans-serif;
            background: var(--bg-main);
            color: var(--text-primary);
            line-height: 1.7;
            font-size: 15px;
        }

        /* Navigation */
        .sidebar {
            position: fixed;
            left: 0;
            top: 0;
            width: 280px;
            height: 100vh;
            background: linear-gradient(180deg, #1e293b 0%, #0f172a 100%);
            color: #e2e8f0;
            overflow-y: auto;
            z-index: 100;
            padding: 24px 0;
        }

        .sidebar-header {
            padding: 0 24px 24px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            margin-bottom: 16px;
        }

        .sidebar-logo {
            font-size: 20px;
            font-weight: 700;
            color: #ffffff;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .sidebar-logo-icon {
            width: 72px;
            height: 72px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .sidebar-logo-icon img {
            width: 100%;
            height: 100%;
            object-fit: contain;
        }

        .sidebar-subtitle {
            font-size: 12px;
            color: var(--text-muted);
            margin-top: 4px;
        }

        .nav-section {
            margin-bottom: 8px;
        }

        .nav-section-title {
            font-size: 11px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            color: var(--text-muted);
            padding: 16px 24px 8px;
        }

        .nav-link {
            display: block;
            padding: 10px 24px 10px 32px;
            color: #cbd5e1;
            text-decoration: none;
            font-size: 14px;
            transition: all 0.2s ease;
            border-left: 3px solid transparent;
        }

        .nav-link:hover {
            background: rgba(255, 255, 255, 0.05);
            color: #ffffff;
            border-left-color: var(--accent);
        }

        .nav-link.active {
            background: rgba(37, 99, 235, 0.2);
            color: #ffffff;
            border-left-color: var(--primary);
        }

        /* Main Content */
        .main-content {
            margin-left: 280px;
            min-height: 100vh;
        }

        .content-header {
            background: linear-gradient(135deg, var(--primary) 0%, #7c3aed 100%);
            color: #ffffff;
            padding: 60px 48px;
        }

        .content-header h1 {
            font-size: 36px;
            font-weight: 700;
            margin-bottom: 12px;
        }

        .content-header p {
            font-size: 18px;
            opacity: 0.9;
            max-width: 600px;
            font-weight: 500;
        }

        .content-body {
            padding: 48px;
            max-width: 1000px;
        }

        /* Sections */
        section {
            margin-bottom: 48px;
            scroll-margin-top: 24px;
        }

        h2 {
            font-size: 28px;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 24px;
            padding-bottom: 12px;
            border-bottom: 3px solid var(--primary);
            display: inline-block;
        }

        h3 {
            font-size: 20px;
            font-weight: 600;
            color: var(--text-primary);
            margin: 32px 0 16px;
        }

        h4 {
            font-size: 16px;
            font-weight: 600;
            color: var(--text-secondary);
            margin: 24px 0 12px;
        }

        p {
            margin-bottom: 16px;
            color: var(--text-secondary);
        }

        /* Cards */
        .card {
            background: var(--bg-card);
            border-radius: 12px;
            box-shadow: var(--shadow);
            padding: 24px;
            margin-bottom: 24px;
            border: 1px solid var(--border);
        }

        .card-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 16px;
        }

        .card-icon {
            width: 40px;
            height: 40px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
        }

        .card-icon.blue { background: rgba(37, 99, 235, 0.1); color: var(--primary); }
        .card-icon.green { background: rgba(16, 185, 129, 0.1); color: var(--success); }
        .card-icon.orange { background: rgba(245, 158, 11, 0.1); color: var(--warning); }
        .card-icon.cyan { background: rgba(6, 182, 212, 0.1); color: var(--accent); }
        .card-icon.purple { background: rgba(139, 92, 246, 0.1); color: #8b5cf6; }

        .card-title {
            font-size: 18px;
            font-weight: 600;
            color: var(--text-primary);
        }

        /* Feature Grid */
        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin: 24px 0;
        }

        .feature-item {
            background: var(--bg-card);
            border-radius: 10px;
            padding: 20px;
            border: 1px solid var(--border);
            transition: all 0.3s ease;
        }

        .feature-item:hover {
            box-shadow: var(--shadow-lg);
            transform: translateY(-2px);
        }

        .feature-item h4 {
            margin: 0 0 8px;
            font-size: 15px;
            color: var(--text-primary);
        }

        .feature-item p {
            margin: 0;
            font-size: 13px;
            color: var(--text-muted);
        }

        /* Steps */
        .steps {
            counter-reset: step-counter;
        }

        .step {
            display: flex;
            gap: 20px;
            margin-bottom: 24px;
            padding: 20px;
            background: var(--bg-card);
            border-radius: 10px;
            border: 1px solid var(--border);
        }

        .step-number {
            counter-increment: step-counter;
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, var(--primary) 0%, var(--accent) 100%);
            color: #ffffff;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 16px;
            flex-shrink: 0;
        }

        .step-number::before {
            content: counter(step-counter);
        }

        .step-content {
            flex: 1;
        }

        .step-title {
            font-size: 16px;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 8px;
        }

        .step-desc {
            color: var(--text-secondary);
            font-size: 14px;
            margin: 0;
        }

        /* Tables */
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: var(--bg-card);
            border-radius: 10px;
            overflow: hidden;
            box-shadow: var(--shadow);
        }

        th, td {
            padding: 14px 18px;
            text-align: left;
            border-bottom: 1px solid var(--border);
        }

        th {
            background: linear-gradient(135deg, #f1f5f9 0%, #e2e8f0 100%);
            font-weight: 600;
            color: var(--text-primary);
            font-size: 13px;
            text-transform: uppercase;
            letter-spacing: 0.3px;
        }

        td {
            font-size: 14px;
            color: var(--text-secondary);
        }

        tr:last-child td {
            border-bottom: none;
        }

        tr:hover td {
            background: rgba(37, 99, 235, 0.03);
        }

        /* Code */
        code {
            background: var(--bg-code);
            padding: 3px 8px;
            border-radius: 4px;
            font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
            font-size: 13px;
            color: var(--primary-dark);
        }

        pre {
            background: #1e293b;
            color: #e2e8f0;
            padding: 20px;
            border-radius: 10px;
            overflow-x: auto;
            margin: 16px 0;
        }

        pre code {
            background: none;
            padding: 0;
            color: inherit;
        }

        /* Keyboard shortcuts */
        kbd {
            background: linear-gradient(180deg, #f8fafc 0%, #e2e8f0 100%);
            border: 1px solid #cbd5e1;
            border-radius: 5px;
            padding: 4px 10px;
            font-family: 'Segoe UI', sans-serif;
            font-size: 12px;
            font-weight: 600;
            color: var(--text-primary);
            box-shadow: 0 2px 0 #94a3b8;
            display: inline-block;
            margin: 2px;
        }

        /* Tips and Notes */
        .tip, .note, .warning {
            padding: 16px 20px;
            border-radius: 8px;
            margin: 20px 0;
            display: flex;
            gap: 12px;
            align-items: flex-start;
        }

        .tip {
            background: rgba(16, 185, 129, 0.1);
            border-left: 4px solid var(--success);
        }

        .note {
            background: rgba(37, 99, 235, 0.1);
            border-left: 4px solid var(--primary);
        }

        .warning {
            background: rgba(245, 158, 11, 0.1);
            border-left: 4px solid var(--warning);
        }

        .tip-icon, .note-icon, .warning-icon {
            font-size: 18px;
            flex-shrink: 0;
        }

        .tip-content, .note-content, .warning-content {
            flex: 1;
        }

        .tip-content strong, .note-content strong, .warning-content strong {
            display: block;
            margin-bottom: 4px;
            font-size: 14px;
        }

        .tip-content p, .note-content p, .warning-content p {
            margin: 0;
            font-size: 13px;
        }

        /* Lists */
        ul, ol {
            margin: 16px 0;
            padding-left: 24px;
        }

        li {
            margin-bottom: 8px;
            color: var(--text-secondary);
        }

        /* Images */
        .image-container {
            margin: 24px 0;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: var(--shadow-lg);
            border: 1px solid var(--border);
        }

        .image-container img {
            width: 100%;
            display: block;
        }

        .image-caption {
            padding: 12px 16px;
            background: var(--bg-code);
            font-size: 13px;
            color: var(--text-muted);
            text-align: center;
        }

        /* Diagram */
        .diagram {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 10px;
            padding: 24px;
            margin: 24px 0;
            font-family: 'Consolas', monospace;
            font-size: 13px;
            line-height: 1.4;
            overflow-x: auto;
            white-space: pre;
            color: var(--text-secondary);
        }

        /* Badges */
        .badge {
            display: inline-block;
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 11px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.3px;
        }

        .badge-blue { background: rgba(37, 99, 235, 0.15); color: var(--primary); }
        .badge-green { background: rgba(16, 185, 129, 0.15); color: var(--success); }
        .badge-orange { background: rgba(245, 158, 11, 0.15); color: var(--warning); }

        /* Workflow diagram */
        .workflow {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            padding: 30px;
            background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
            border-radius: 12px;
            margin: 24px 0;
            flex-wrap: wrap;
        }

        .workflow-step {
            background: var(--bg-card);
            padding: 16px 24px;
            border-radius: 8px;
            box-shadow: var(--shadow);
            text-align: center;
            min-width: 120px;
        }

        .workflow-step-icon {
            font-size: 24px;
            margin-bottom: 8px;
        }

        .workflow-step-label {
            font-size: 13px;
            font-weight: 600;
            color: var(--text-primary);
        }

        .workflow-arrow {
            font-size: 20px;
            color: var(--primary);
        }

        /* Parameter Groups */
        .param-group {
            margin: 24px 0;
        }

        .param-group-header {
            background: linear-gradient(135deg, var(--primary) 0%, #7c3aed 100%);
            color: #ffffff;
            padding: 12px 20px;
            border-radius: 8px 8px 0 0;
            font-weight: 600;
            font-size: 15px;
        }

        .param-group-content {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-top: none;
            border-radius: 0 0 8px 8px;
            padding: 20px;
        }

        /* Scroll to top */
        .scroll-top {
            position: fixed;
            bottom: 24px;
            right: 24px;
            width: 48px;
            height: 48px;
            background: var(--primary);
            color: #ffffff;
            border: none;
            border-radius: 50%;
            cursor: pointer;
            font-size: 20px;
            box-shadow: var(--shadow-lg);
            transition: all 0.3s ease;
            z-index: 99;
        }

        .scroll-top:hover {
            background: var(--primary-dark);
            transform: translateY(-3px);
        }

        /* Footer */
        .footer {
            background: #1e293b;
            color: #94a3b8;
            padding: 40px 48px;
            margin-top: 60px;
        }

        .footer-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .footer-text {
            font-size: 14px;
        }

        .footer-links a {
            color: #94a3b8;
            text-decoration: none;
            margin-left: 24px;
            font-size: 14px;
            transition: color 0.2s;
        }

        .footer-links a:hover {
            color: #ffffff;
        }

        /* Responsive */
        @media (max-width: 1024px) {
            .sidebar {
                transform: translateX(-100%);
            }
            .main-content {
                margin-left: 0;
            }
        }
    </style>
</head>
<body>
    <!-- Sidebar Navigation -->
    <nav class="sidebar">
        <div class="sidebar-header">
            <div class="sidebar-logo">
                <div class="sidebar-logo-icon">
                    <img src="icons/app_icon.svg" alt="Bac-Motion Visualization">
                </div>
                <span>Bac-Motion Visualization</span>
            </div>
            <div class="sidebar-subtitle">User Guide v1.1.0 (2026-01-21)</div>
        </div>

        <div class="nav-section">
            <div class="nav-section-title">Getting Started</div>
            <a href="#overview" class="nav-link">Overview</a>
            <a href="#quick-start" class="nav-link">Quick Start</a>
            <a href="#interface" class="nav-link">User Interface</a>
            <a href="#whats-new" class="nav-link">What's New</a>
        </div>

        <div class="nav-section">
            <div class="nav-section-title">Loading Data</div>
            <a href="#load-images" class="nav-link">Image Sequences</a>
            <a href="#load-trajectory" class="nav-link">Trajectory Data</a>
            <a href="#parameters" class="nav-link">Physical Parameters</a>
        </div>

        <div class="nav-section">
            <div class="nav-section-title">Visualization</div>
            <a href="#mask-overlay" class="nav-link">Mask Overlay</a>
            <a href="#contours" class="nav-link">Object Contours</a>
            <a href="#centroids" class="nav-link">Centroid Markers</a>
            <a href="#ellipse" class="nav-link">Ellipse Axes</a>
            <a href="#trajectories" class="nav-link">Trajectories</a>
        </div>

        <div class="nav-section">
            <div class="nav-section-title">Annotations</div>
            <a href="#time-label" class="nav-link">Time Label</a>
            <a href="#scale-bar" class="nav-link">Scale Bar</a>
            <a href="#speed-label" class="nav-link">Speed Label</a>
            <a href="#colorbar" class="nav-link">Colorbar</a>
        </div>

        <div class="nav-section">
            <div class="nav-section-title">Object Management</div>
            <a href="#hide-objects" class="nav-link">Hide Objects</a>
            <a href="#restore-objects" class="nav-link">Restore Objects</a>
        </div>

        <div class="nav-section">
            <div class="nav-section-title">Export & Config</div>
            <a href="#preview" class="nav-link">Preview Modes</a>
            <a href="#export" class="nav-link">Export Options</a>
            <a href="#config" class="nav-link">Configuration</a>
        </div>

        <div class="nav-section">
            <div class="nav-section-title">Reference</div>
            <a href="#shortcuts" class="nav-link">Keyboard Shortcuts</a>
            <a href="#file-formats" class="nav-link">File Formats</a>
            <a href="#troubleshooting" class="nav-link">Troubleshooting</a>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="main-content">
        <header class="content-header">
            <h1>Bac-Motion Visualization User Guide</h1>
            <p>Complete documentation for visualizing bacterial motion and cell tracking data with publication-quality output.</p>
        </header>

        <div class="content-body">
            <!-- Overview Section -->
            <section id="overview">
                <h2>Overview</h2>
                <p>
                    <strong>Bac-Motion Visualization</strong> is a professional desktop application designed for researchers 
                    in microbiology, cell biology, and biophysics. It enables you to create compelling visualizations 
                    of cell tracking and motion data by overlaying segmentation masks, trajectories, and annotations 
                    onto original microscopy image sequences.
                </p>

                <div class="feature-grid">
                    <div class="feature-item">
                        <h4>ğŸ–¼ï¸ Multi-format Support</h4>
                        <p>Load 8/12/16-bit grayscale or 24-bit RGB images in JPEG, PNG, and TIFF formats.</p>
                    </div>
                    <div class="feature-item">
                        <h4>ğŸ¨ Mask Overlay</h4>
                        <p>Visualize segmentation masks with adjustable transparency and automatic color assignment.</p>
                    </div>
                    <div class="feature-item">
                        <h4>ğŸ“ˆ Trajectory Display</h4>
                        <p>Multiple display modes with velocity-based coloring using customizable colormaps.</p>
                    </div>
                    <div class="feature-item">
                        <h4>ğŸ“ Rich Annotations</h4>
                        <p>Add time labels, scale bars, speed indicators, and colorbars with drag-to-position support.</p>
                    </div>
                    <div class="feature-item">
                        <h4>ğŸ¬ Real-time Preview</h4>
                        <p>Interactive preview with playback controls before exporting your visualization.</p>
                    </div>
                    <div class="feature-item">
                        <h4>ğŸ’¾ Flexible Export</h4>
                        <p>Export to MP4, AVI, GIF videos or PNG image sequences for publications.</p>
                    </div>
                </div>

                <div class="workflow">
                    <div class="workflow-step">
                        <div class="workflow-step-icon">ğŸ“‚</div>
                        <div class="workflow-step-label">Load Data</div>
                    </div>
                    <div class="workflow-arrow">â†’</div>
                    <div class="workflow-step">
                        <div class="workflow-step-icon">âš™ï¸</div>
                        <div class="workflow-step-label">Configure</div>
                    </div>
                    <div class="workflow-arrow">â†’</div>
                    <div class="workflow-step">
                        <div class="workflow-step-icon">ğŸ‘ï¸</div>
                        <div class="workflow-step-label">Preview</div>
                    </div>
                    <div class="workflow-arrow">â†’</div>
                    <div class="workflow-step">
                        <div class="workflow-step-icon">ğŸ“</div>
                        <div class="workflow-step-label">Position</div>
                    </div>
                    <div class="workflow-arrow">â†’</div>
                    <div class="workflow-step">
                        <div class="workflow-step-icon">ğŸ’¾</div>
                        <div class="workflow-step-label">Export</div>
                    </div>
                </div>
            </section>

            <!-- Quick Start Section -->
            <section id="quick-start">
                <h2>Quick Start</h2>
                <p>Follow these steps to create your first visualization:</p>

                <div class="steps">
                    <div class="step">
                        <div class="step-number"></div>
                        <div class="step-content">
                            <div class="step-title">Launch the Application</div>
                            <p class="step-desc">Run <code>python main.py</code> from the project directory. The main window will appear with the parameter panel on the left and preview area on the right.</p>
                        </div>
                    </div>
                    <div class="step">
                        <div class="step-number"></div>
                        <div class="step-content">
                            <div class="step-title">Load Your Data</div>
                            <p class="step-desc">Press <kbd>Ctrl</kbd>+<kbd>L</kbd> or go to <strong>File â†’ Load Data</strong>. Select your original image folder, mask image folder, and set the physical parameters (FPS and Î¼m/pixel).</p>
                        </div>
                    </div>
                    <div class="step">
                        <div class="step-number"></div>
                        <div class="step-content">
                            <div class="step-title">Adjust Visualization Settings</div>
                            <p class="step-desc">Use the parameter panel to enable/disable visualization elements (masks, contours, trajectories) and customize their appearance (colors, sizes, fonts).</p>
                        </div>
                    </div>
                    <div class="step">
                        <div class="step-number"></div>
                        <div class="step-content">
                            <div class="step-title">Position Annotation Labels</div>
                            <p class="step-desc">In <strong>Edit Mode</strong>, drag the time label, scale bar, speed label, and colorbar to your desired positions on the preview image.</p>
                        </div>
                    </div>
                    <div class="step">
                        <div class="step-number"></div>
                        <div class="step-content">
                            <div class="step-title">Preview Your Work</div>
                            <p class="step-desc">Use the playback controls to review the animation. Switch to <strong>Final Preview</strong> mode to see exactly how the export will look.</p>
                        </div>
                    </div>
                    <div class="step">
                        <div class="step-number"></div>
                        <div class="step-content">
                            <div class="step-title">Export</div>
                            <p class="step-desc">Press <kbd>Ctrl</kbd>+<kbd>E</kbd> or go to <strong>File â†’ Export</strong>. Choose your output directory, format (video/images), and start the export process.</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- User Interface Section -->
            <section id="interface">
                <h2>User Interface</h2>

                <div class="card">
                    <div class="card-header">
                        <div class="card-icon blue">ğŸ–¥ï¸</div>
                        <div class="card-title">Main Window Layout</div>
                    </div>
                    <div class="diagram">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  File   Config   Help                                    Menu Bar  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                  â”‚  [Edit Mode] [Final Preview]           Toolbar  â”‚
â”‚                  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  Parameter       â”‚ â”‚                                             â”‚ â”‚
â”‚  Panel           â”‚ â”‚                                             â”‚ â”‚
â”‚                  â”‚ â”‚              Preview Area                   â”‚ â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚ â”‚                                             â”‚ â”‚
â”‚  â”‚Mask Overlayâ”‚  â”‚ â”‚     â€¢ Rendered visualization               â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚ â”‚     â€¢ Draggable labels (Edit Mode)         â”‚ â”‚
â”‚  â”‚Contour     â”‚  â”‚ â”‚     â€¢ Playback display                     â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚ â”‚                                             â”‚ â”‚
â”‚  â”‚Centroid    â”‚  â”‚ â”‚                                             â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚  â”‚Ellipse Axesâ”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚ â”‚  â—€ â–¶ â–¶â”‚  [======slider======]   1/100    â”‚ â”‚
â”‚  â”‚Trajectory  â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚                               Playback Controls â”‚
â”‚  â”‚Time Label  â”‚  â”‚                                                 â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚                                                 â”‚
â”‚  â”‚Scale Bar   â”‚  â”‚                                                 â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚                                                 â”‚
â”‚  â”‚Speed Label â”‚  â”‚                                                 â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚                                                 â”‚
â”‚  â”‚Colorbar    â”‚  â”‚                                                 â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚                                                 â”‚
â”‚  â”‚Object Ops  â”‚  â”‚                                                 â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚                                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Ready - 100 frames, 5 objects                          Status Bar â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</div>
                </div>

                <h3>Interface Components</h3>

                <table>
                    <tr>
                        <th>Component</th>
                        <th>Description</th>
                    </tr>
                    <tr>
                        <td><strong>Menu Bar</strong></td>
                        <td>Access to File operations, Configuration management, and Help</td>
                    </tr>
                    <tr>
                        <td><strong>Toolbar</strong></td>
                        <td>Toggle between Edit Mode and Final Preview mode</td>
                    </tr>
                    <tr>
                        <td><strong>Parameter Panel</strong></td>
                        <td>Scrollable panel with collapsible groups for all visualization settings</td>
                    </tr>
                    <tr>
                        <td><strong>Preview Area</strong></td>
                        <td>Interactive display showing rendered frames with draggable labels</td>
                    </tr>
                    <tr>
                        <td><strong>Playback Controls</strong></td>
                        <td>Play/Pause, Previous/Next frame buttons and seek slider</td>
                    </tr>
                    <tr>
                        <td><strong>Status Bar</strong></td>
                        <td>Shows current status, frame count, and object count</td>
                    </tr>
                </table>
            </section>

            <!-- What's New Section -->
            <section id="whats-new">
                <h2>What's New in Version 1.1.0</h2>
                <p class="release-date"><strong>Release Date:</strong> January 21, 2026</p>
                
                <h3>âœ¨ Enhanced Colorbar Customization</h3>
                <p>
                    Version 1.1.0 introduces fine-grained control over colorbar appearance, 
                    giving you more flexibility to create publication-quality visualizations.
                </p>
                
                <div class="param-group">
                    <div class="param-group-header">New Parameters</div>
                    <div class="param-group-content">
                        <table>
                            <tr>
                                <th>Parameter</th>
                                <th>Range</th>
                                <th>Description</th>
                            </tr>
                            <tr>
                                <td><strong>Border Thk</strong></td>
                                <td>1-10 px</td>
                                <td>Adjust the colorbar border line thickness for better visibility</td>
                            </tr>
                            <tr>
                                <td><strong>Tick Thk</strong></td>
                                <td>1-10 px</td>
                                <td>Customize tick mark line thickness for clearer labels</td>
                            </tr>
                            <tr>
                                <td><strong>Tick Length</strong></td>
                                <td>1-30 px</td>
                                <td>Control tick mark length extending from the border</td>
                            </tr>
                        </table>
                    </div>
                </div>

                <div class="tip">
                    <div class="tip-icon">ğŸ’¡</div>
                    <div class="tip-content">
                        <strong>Professional Output</strong>
                        <p>These new settings allow you to match the colorbar style to your specific journal or presentation requirements, ensuring consistent visual quality across your scientific publications.</p>
                    </div>
                </div>

                <h3>ğŸ”§ Improvements</h3>
                <ul>
                    <li>Improved colorbar rendering precision with configurable line properties</li>
                    <li>Enhanced UI parameter panel with intuitive controls for colorbar styling</li>
                    <li>Better consistency between Edit Mode preview and final exported results</li>
                    <li>Optimized bounds calculation for dynamic colorbar sizing</li>
                </ul>
            </section>

            <!-- Load Images Section -->
            <section id="load-images">
                <h2>Loading Image Sequences</h2>

                <p>The application requires two image sequences: <strong>original images</strong> and <strong>mask images</strong>.</p>

                <div class="card">
                    <div class="card-header">
                        <div class="card-icon green">ğŸ–¼ï¸</div>
                        <div class="card-title">Original Images</div>
                    </div>
                    <p>Your source microscopy images. These form the background of the visualization.</p>
                    <ul>
                        <li>Supported formats: JPEG, PNG, TIFF</li>
                        <li>Supported bit depths: 8-bit, 12-bit, 16-bit grayscale; 24-bit RGB</li>
                        <li>All images must have the same dimensions</li>
                        <li>Files are automatically sorted by natural order (e.g., frame_1, frame_2, ... frame_10)</li>
                    </ul>
                </div>

                <div class="card">
                    <div class="card-header">
                        <div class="card-icon purple">ğŸ­</div>
                        <div class="card-title">Mask Images</div>
                    </div>
                    <p>Segmentation masks where each pixel value represents an object ID (0 = background).</p>
                    <ul>
                        <li>Must match the frame count and dimensions of original images</li>
                        <li>Pixel values should be integer object IDs (1, 2, 3, ...)</li>
                        <li>Background pixels should have value 0</li>
                        <li>Typically generated by segmentation and tracking software</li>
                    </ul>
                </div>

                <div class="note">
                    <div class="note-icon">â„¹ï¸</div>
                    <div class="note-content">
                        <strong>File Naming</strong>
                        <p>Use consistent naming patterns like <code>frame_0001.png</code>, <code>frame_0002.png</code>, etc. The application uses natural sorting to ensure correct frame order.</p>
                    </div>
                </div>
            </section>

            <!-- Load Trajectory Section -->
            <section id="load-trajectory">
                <h2>Loading Trajectory Data</h2>

                <p>Trajectory data is <strong>optional</strong>. If not provided, trajectories are computed from the mask centroids.</p>

                <h3>Excel Format (.xlsx, .xls)</h3>
                <p>Each worksheet represents one tracked object. Required columns:</p>
                <ul>
                    <li><strong>Time</strong>: Frame number or time value</li>
                    <li><strong>X</strong>: X coordinate</li>
                    <li><strong>Y</strong>: Y coordinate</li>
                </ul>
                <p>Object IDs are assigned based on sheet order (Sheet 1 = Object 1, etc.)</p>

                <h3>CSV Format (.csv)</h3>
                <p>All objects in a single file. Required columns:</p>
                <ul>
                    <li><strong>ID</strong>: Object identifier</li>
                    <li><strong>Time</strong>: Frame number or time value</li>
                    <li><strong>X</strong>: X coordinate</li>
                    <li><strong>Y</strong>: Y coordinate</li>
                </ul>

                <div class="tip">
                    <div class="tip-icon">ğŸ’¡</div>
                    <div class="tip-content">
                        <strong>Auto-detection</strong>
                        <p>The application attempts to automatically detect common column names like "time", "t", "x", "y", "id", etc. You can manually adjust the mapping if needed.</p>
                    </div>
                </div>
            </section>

            <!-- Parameters Section -->
            <section id="parameters">
                <h2>Physical Parameters</h2>

                <table>
                    <tr>
                        <th>Parameter</th>
                        <th>Description</th>
                        <th>Example</th>
                    </tr>
                    <tr>
                        <td><strong>Original FPS</strong></td>
                        <td>Frame rate at which the original images were captured</td>
                        <td>1.0 fps (1 frame per second)</td>
                    </tr>
                    <tr>
                        <td><strong>Î¼m/pixel</strong></td>
                        <td>Physical calibration: micrometers per pixel</td>
                        <td>0.068 Î¼m/pixel</td>
                    </tr>
                    <tr>
                        <td><strong>Output FPS</strong></td>
                        <td>Frame rate for exported video (set in Speed Label group)</td>
                        <td>30.0 fps</td>
                    </tr>
                </table>

                <p>These parameters are used to:</p>
                <ul>
                    <li>Calculate real-world velocities (Î¼m/s)</li>
                    <li>Display accurate time values</li>
                    <li>Set scale bar length correctly</li>
                    <li>Calculate playback speed ratio</li>
                </ul>
            </section>

            <!-- Mask Overlay Section -->
            <section id="mask-overlay">
                <h2>Mask Overlay</h2>

                <p>The mask overlay colors each object region based on its assigned color, blended with the original image.</p>

                <div class="param-group">
                    <div class="param-group-header">Mask Overlay Settings</div>
                    <div class="param-group-content">
                        <table>
                            <tr>
                                <th>Parameter</th>
                                <th>Range</th>
                                <th>Description</th>
                            </tr>
                            <tr>
                                <td>Enable</td>
                                <td>On/Off</td>
                                <td>Toggle mask overlay visibility</td>
                            </tr>
                            <tr>
                                <td>Opacity</td>
                                <td>0-100%</td>
                                <td>Transparency of the colored overlay. 0% = invisible, 100% = solid color</td>
                            </tr>
                        </table>
                    </div>
                </div>

                <div class="tip">
                    <div class="tip-icon">ğŸ’¡</div>
                    <div class="tip-content">
                        <strong>Recommended opacity</strong>
                        <p>Use 20-40% opacity for most applications. This allows the original image texture to show through while still clearly indicating object regions.</p>
                    </div>
                </div>
            </section>

            <!-- Contours Section -->
            <section id="contours">
                <h2>Object Contours</h2>

                <p>Contours draw the boundary outline of each object, making the segmentation results clearly visible.</p>

                <div class="param-group">
                    <div class="param-group-header">Contour Settings</div>
                    <div class="param-group-content">
                        <table>
                            <tr>
                                <th>Parameter</th>
                                <th>Range</th>
                                <th>Description</th>
                            </tr>
                            <tr>
                                <td>Enable</td>
                                <td>On/Off</td>
                                <td>Toggle contour visibility</td>
                            </tr>
                            <tr>
                                <td>Thickness</td>
                                <td>1-99 px</td>
                                <td>Line width of the contour</td>
                            </tr>
                        </table>
                    </div>
                </div>

                <p>Contour colors match the automatically assigned object colors.</p>
            </section>

            <!-- Centroids Section -->
            <section id="centroids">
                <h2>Centroid Markers</h2>

                <p>Centroid markers indicate the center point of each object with a customizable shape.</p>

                <div class="param-group">
                    <div class="param-group-header">Centroid Settings</div>
                    <div class="param-group-content">
                        <table>
                            <tr>
                                <th>Parameter</th>
                                <th>Options</th>
                                <th>Description</th>
                            </tr>
                            <tr>
                                <td>Enable</td>
                                <td>On/Off</td>
                                <td>Toggle centroid marker visibility</td>
                            </tr>
                            <tr>
                                <td>Shape</td>
                                <td>Circle, Triangle, Star</td>
                                <td>Marker shape</td>
                            </tr>
                            <tr>
                                <td>Size</td>
                                <td>1-50 px</td>
                                <td>Marker size (radius for circle, outer radius for star/triangle)</td>
                            </tr>
                        </table>
                    </div>
                </div>
            </section>

            <!-- Ellipse Section -->
            <section id="ellipse">
                <h2>Ellipse Axes</h2>

                <p>Display the major and minor axes of fitted ellipses for each object, useful for analyzing cell orientation and elongation.</p>

                <div class="param-group">
                    <div class="param-group-header">Ellipse Axes Settings</div>
                    <div class="param-group-content">
                        <table>
                            <tr>
                                <th>Parameter</th>
                                <th>Options</th>
                                <th>Description</th>
                            </tr>
                            <tr>
                                <td>Show Major Axis</td>
                                <td>On/Off</td>
                                <td>Display the longer axis</td>
                            </tr>
                            <tr>
                                <td>Show Minor Axis</td>
                                <td>On/Off</td>
                                <td>Display the shorter axis</td>
                            </tr>
                            <tr>
                                <td>Major Thickness</td>
                                <td>1-99 px</td>
                                <td>Line width for major axis</td>
                            </tr>
                            <tr>
                                <td>Minor Thickness</td>
                                <td>1-99 px</td>
                                <td>Line width for minor axis</td>
                            </tr>
                            <tr>
                                <td>Major Color</td>
                                <td>Color list</td>
                                <td>Color for major axis line</td>
                            </tr>
                            <tr>
                                <td>Minor Color</td>
                                <td>Color list</td>
                                <td>Color for minor axis line</td>
                            </tr>
                        </table>
                    </div>
                </div>
            </section>

            <!-- Trajectories Section -->
            <section id="trajectories">
                <h2>Trajectories</h2>

                <p>Trajectories show the path each object has traveled over time.</p>

                <div class="param-group">
                    <div class="param-group-header">Trajectory Settings</div>
                    <div class="param-group-content">
                        <table>
                            <tr>
                                <th>Parameter</th>
                                <th>Options</th>
                                <th>Description</th>
                            </tr>
                            <tr>
                                <td>Enable</td>
                                <td>On/Off</td>
                                <td>Toggle trajectory visibility</td>
                            </tr>
                            <tr>
                                <td>Mode</td>
                                <td>Full Trajectory, Start-to-Current, Delay Before, Delay After</td>
                                <td>Which portion of the trajectory to display</td>
                            </tr>
                            <tr>
                                <td>Delay Time</td>
                                <td>0.1-100 s</td>
                                <td>Time window for delay modes</td>
                            </tr>
                            <tr>
                                <td>Thickness</td>
                                <td>1-99 px</td>
                                <td>Line width</td>
                            </tr>
                            <tr>
                                <td>Color Mode</td>
                                <td>Object Color, Velocity Color</td>
                                <td>How to color the trajectory</td>
                            </tr>
                        </table>
                    </div>
                </div>

                <h3>Trajectory Display Modes</h3>

                <div class="feature-grid">
                    <div class="feature-item">
                        <h4>Full Trajectory</h4>
                        <p>Shows the complete path from start to end of the sequence.</p>
                    </div>
                    <div class="feature-item">
                        <h4>Start to Current</h4>
                        <p>Shows the path from the first frame to the current frame.</p>
                    </div>
                    <div class="feature-item">
                        <h4>Delay Before</h4>
                        <p>Shows only the trailing portion (past N seconds before current frame).</p>
                    </div>
                    <div class="feature-item">
                        <h4>Delay After</h4>
                        <p>Shows only the leading portion (future N seconds after current frame).</p>
                    </div>
                </div>
            </section>

            <!-- Time Label Section -->
            <section id="time-label">
                <h2>Time Label</h2>

                <p>Displays the elapsed time at each frame. The label is draggable in Edit Mode.</p>

                <div class="param-group">
                    <div class="param-group-header">Time Label Settings</div>
                    <div class="param-group-content">
                        <table>
                            <tr>
                                <th>Parameter</th>
                                <th>Options</th>
                                <th>Description</th>
                            </tr>
                            <tr>
                                <td>Enable</td>
                                <td>On/Off</td>
                                <td>Toggle time label visibility</td>
                            </tr>
                            <tr>
                                <td>Unit</td>
                                <td>ms, s, min, h</td>
                                <td>Time display unit</td>
                            </tr>
                            <tr>
                                <td>Font</td>
                                <td>Arial, Times New Roman</td>
                                <td>Font family</td>
                            </tr>
                            <tr>
                                <td>Size</td>
                                <td>8-99 pt</td>
                                <td>Font size</td>
                            </tr>
                            <tr>
                                <td>Bold</td>
                                <td>On/Off</td>
                                <td>Bold text style</td>
                            </tr>
                            <tr>
                                <td>Color</td>
                                <td>Color list</td>
                                <td>Text color</td>
                            </tr>
                        </table>
                    </div>
                </div>
            </section>

            <!-- Scale Bar Section -->
            <section id="scale-bar">
                <h2>Scale Bar</h2>

                <p>A reference scale bar showing physical dimensions. The scale bar is draggable in Edit Mode.</p>

                <div class="param-group">
                    <div class="param-group-header">Scale Bar Settings</div>
                    <div class="param-group-content">
                        <table>
                            <tr>
                                <th>Parameter</th>
                                <th>Options</th>
                                <th>Description</th>
                            </tr>
                            <tr>
                                <td>Enable</td>
                                <td>On/Off</td>
                                <td>Toggle scale bar visibility</td>
                            </tr>
                            <tr>
                                <td>Thickness</td>
                                <td>1-99 px</td>
                                <td>Bar thickness</td>
                            </tr>
                            <tr>
                                <td>Length</td>
                                <td>1-10000 Î¼m</td>
                                <td>Physical length to represent</td>
                            </tr>
                            <tr>
                                <td>Bar Color</td>
                                <td>Color list</td>
                                <td>Color of the bar</td>
                            </tr>
                            <tr>
                                <td>Show Text</td>
                                <td>On/Off</td>
                                <td>Display length label</td>
                            </tr>
                            <tr>
                                <td>Text Position</td>
                                <td>Above, Below</td>
                                <td>Position of text relative to bar</td>
                            </tr>
                            <tr>
                                <td>Text Gap</td>
                                <td>0-99 px</td>
                                <td>Space between bar and text</td>
                            </tr>
                        </table>
                    </div>
                </div>
            </section>

            <!-- Speed Label Section -->
            <section id="speed-label">
                <h2>Speed Label</h2>

                <p>Displays the playback speed multiplier (e.g., "30Ã—" indicates 30x speed-up). The label is draggable in Edit Mode.</p>

                <p>The speed ratio is calculated as: <code>Output FPS / Original FPS</code></p>

                <div class="param-group">
                    <div class="param-group-header">Speed Label Settings</div>
                    <div class="param-group-content">
                        <table>
                            <tr>
                                <th>Parameter</th>
                                <th>Options</th>
                                <th>Description</th>
                            </tr>
                            <tr>
                                <td>Enable</td>
                                <td>On/Off</td>
                                <td>Toggle speed label visibility</td>
                            </tr>
                            <tr>
                                <td>Output FPS</td>
                                <td>0.1-1000 fps</td>
                                <td>Output video frame rate (affects speed ratio)</td>
                            </tr>
                            <tr>
                                <td>Font</td>
                                <td>Arial, Times New Roman</td>
                                <td>Font family</td>
                            </tr>
                            <tr>
                                <td>Size</td>
                                <td>8-99 pt</td>
                                <td>Font size</td>
                            </tr>
                            <tr>
                                <td>Bold</td>
                                <td>On/Off</td>
                                <td>Bold text style</td>
                            </tr>
                            <tr>
                                <td>Color</td>
                                <td>Color list</td>
                                <td>Text color</td>
                            </tr>
                        </table>
                    </div>
                </div>
            </section>

            <!-- Colorbar Section -->
            <section id="colorbar">
                <h2>Colorbar</h2>

                <p>The colorbar shows the velocity scale when using <strong>Velocity Color</strong> mode for trajectories. It is draggable in Edit Mode.</p>

                <div class="warning">
                    <div class="warning-icon">âš ï¸</div>
                    <div class="warning-content">
                        <strong>Velocity Mode Required</strong>
                        <p>The colorbar only appears when Trajectory Color Mode is set to "Velocity Color".</p>
                    </div>
                </div>

                <div class="param-group">
                    <div class="param-group-header">Colorbar Settings</div>
                    <div class="param-group-content">
                        <table>
                            <tr>
                                <th>Parameter</th>
                                <th>Options</th>
                                <th>Description</th>
                            </tr>
                            <tr>
                                <td>Enable</td>
                                <td>On/Off</td>
                                <td>Toggle colorbar visibility</td>
                            </tr>
                            <tr>
                                <td>Colormap</td>
                                <td>viridis, plasma, inferno, magma, etc.</td>
                                <td>Color scheme for velocity mapping</td>
                            </tr>
                            <tr>
                                <td>Height</td>
                                <td>50-2000 px</td>
                                <td>Bar height</td>
                            </tr>
                            <tr>
                                <td>Width</td>
                                <td>5-200 px</td>
                                <td>Bar width</td>
                            </tr>
                            <tr>
                                <td>Title</td>
                                <td>Text</td>
                                <td>Colorbar title (e.g., "Speed (Î¼m/s)")</td>
                            </tr>
                            <tr>
                                <td>Title Position</td>
                                <td>Top, Right</td>
                                <td>Position of title relative to bar</td>
                            </tr>
                            <tr>
                                <td>Min/Max</td>
                                <td>Numeric</td>
                                <td>Value range for color mapping</td>
                            </tr>
                            <tr>
                                <td>Tick Interval</td>
                                <td>Numeric</td>
                                <td>Spacing between tick marks</td>
                            </tr>
                            <tr>
                                <td>Border Thk</td>
                                <td>1-10 px</td>
                                <td>Border line thickness</td>
                            </tr>
                            <tr>
                                <td>Tick Thk</td>
                                <td>1-10 px</td>
                                <td>Tick mark line thickness</td>
                            </tr>
                            <tr>
                                <td>Tick Length</td>
                                <td>1-30 px</td>
                                <td>Tick mark length from border</td>
                            </tr>
                        </table>
                    </div>
                </div>

                <div class="tip">
                    <div class="tip-icon">ğŸ’¡</div>
                    <div class="tip-content">
                        <strong>Auto-range</strong>
                        <p>When data is loaded, the colorbar min/max and tick interval are automatically set based on the actual velocity range in your data.</p>
                    </div>
                </div>
            </section>

            <!-- Hide Objects Section -->
            <section id="hide-objects">
                <h2>Hiding Objects</h2>

                <p>You can hide individual objects from specific time points to clean up visualizations.</p>

                <h3>How to Hide an Object</h3>
                <ol>
                    <li><strong>Double-click</strong> on an object in the preview area</li>
                    <li>A dialog will appear asking how you want to hide the object</li>
                    <li>Choose one of the options:
                        <ul>
                            <li><strong>Hide Before</strong>: Object becomes invisible before the specified frame</li>
                            <li><strong>Hide After</strong>: Object becomes invisible after the specified frame</li>
                        </ul>
                    </li>
                </ol>

                <p>Hidden objects are listed in the <strong>Object Operations</strong> section of the parameter panel.</p>
            </section>

            <!-- Restore Objects Section -->
            <section id="restore-objects">
                <h2>Restoring Objects</h2>

                <p>To restore hidden objects:</p>

                <ol>
                    <li>Scroll to the <strong>Object Operations</strong> group in the parameter panel</li>
                    <li>Select one or more items from the hidden objects list</li>
                    <li>Click <strong>Remove Selected</strong> to restore selected objects</li>
                    <li>Or click <strong>Clear All</strong> to restore all hidden objects</li>
                </ol>
            </section>

            <!-- Preview Section -->
            <section id="preview">
                <h2>Preview Modes</h2>

                <p>The application offers two preview modes:</p>

                <div class="feature-grid">
                    <div class="feature-item">
                        <h4>âœï¸ Edit Mode</h4>
                        <p>Labels appear as draggable overlays. Drag labels to reposition them. This is the default mode for adjusting your visualization layout.</p>
                    </div>
                    <div class="feature-item">
                        <h4>ğŸ‘ï¸ Final Preview</h4>
                        <p>Shows exactly how the exported result will look. Labels are rendered directly on the image at their final positions.</p>
                    </div>
                </div>

                <h3>Playback Controls</h3>

                <table>
                    <tr>
                        <th>Control</th>
                        <th>Action</th>
                    </tr>
                    <tr>
                        <td>â—€</td>
                        <td>Go to previous frame</td>
                    </tr>
                    <tr>
                        <td>â–¶ / â¸</td>
                        <td>Play / Pause animation</td>
                    </tr>
                    <tr>
                        <td>â–¶</td>
                        <td>Go to next frame</td>
                    </tr>
                    <tr>
                        <td>Slider</td>
                        <td>Seek to specific frame</td>
                    </tr>
                </table>
            </section>

            <!-- Export Section -->
            <section id="export">
                <h2>Export Options</h2>

                <p>Export your visualization to video files and/or image sequences.</p>

                <h3>Video Export</h3>

                <table>
                    <tr>
                        <th>Format</th>
                        <th>Codec</th>
                        <th>Best For</th>
                    </tr>
                    <tr>
                        <td><span class="badge badge-blue">MP4</span></td>
                        <td>H.264</td>
                        <td>General use, presentations, web</td>
                    </tr>
                    <tr>
                        <td><span class="badge badge-green">AVI</span></td>
                        <td>MJPEG</td>
                        <td>Maximum compatibility, editing software</td>
                    </tr>
                    <tr>
                        <td><span class="badge badge-orange">GIF</span></td>
                        <td>GIF</td>
                        <td>Quick previews, presentations, social media</td>
                    </tr>
                </table>

                <h3>Image Sequence Export</h3>

                <ul>
                    <li><strong>Format</strong>: PNG (lossless)</li>
                    <li><strong>Naming</strong>: Customizable prefix with 6-digit numbering</li>
                    <li><strong>Subfolder</strong>: Images are saved in a subfolder of your choosing</li>
                </ul>
            </section>

            <!-- Config Section -->
            <section id="config">
                <h2>Configuration Management</h2>

                <p>Save and load your visualization settings for reuse across different datasets.</p>

                <h3>Save Configuration</h3>
                <ol>
                    <li>Go to <strong>Config â†’ Save Config</strong> or press <kbd>Ctrl</kbd>+<kbd>S</kbd></li>
                    <li>Choose a location and filename</li>
                    <li>Settings are saved as a JSON file</li>
                </ol>

                <h3>Load Configuration</h3>
                <ol>
                    <li>Go to <strong>Config â†’ Load Config</strong> or press <kbd>Ctrl</kbd>+<kbd>I</kbd></li>
                    <li>Select a previously saved JSON configuration file</li>
                    <li>Settings will be applied to the current session</li>
                </ol>

                <div class="note">
                    <div class="note-icon">â„¹ï¸</div>
                    <div class="note-content">
                        <strong>What's Saved</strong>
                        <p>All visualization parameters, label positions, and appearance settings are saved. Data paths and hidden objects are not included in the configuration.</p>
                    </div>
                </div>
            </section>

            <!-- Shortcuts Section -->
            <section id="shortcuts">
                <h2>Keyboard Shortcuts</h2>

                <table>
                    <tr>
                        <th>Shortcut</th>
                        <th>Action</th>
                    </tr>
                    <tr>
                        <td><kbd>Ctrl</kbd>+<kbd>L</kbd></td>
                        <td>Load Data (open data loading dialog)</td>
                    </tr>
                    <tr>
                        <td><kbd>Ctrl</kbd>+<kbd>E</kbd></td>
                        <td>Export (open export dialog)</td>
                    </tr>
                    <tr>
                        <td><kbd>Ctrl</kbd>+<kbd>S</kbd></td>
                        <td>Save Configuration</td>
                    </tr>
                    <tr>
                        <td><kbd>Ctrl</kbd>+<kbd>I</kbd></td>
                        <td>Import/Load Configuration</td>
                    </tr>
                    <tr>
                        <td><kbd>Ctrl</kbd>+<kbd>Q</kbd></td>
                        <td>Quit Application</td>
                    </tr>
                </table>
            </section>

            <!-- File Formats Section -->
            <section id="file-formats">
                <h2>Supported File Formats</h2>

                <h3>Image Formats</h3>

                <table>
                    <tr>
                        <th>Format</th>
                        <th>Extensions</th>
                        <th>Bit Depths</th>
                        <th>Color Modes</th>
                    </tr>
                    <tr>
                        <td>JPEG</td>
                        <td>.jpg, .jpeg</td>
                        <td>8-bit</td>
                        <td>Grayscale, RGB</td>
                    </tr>
                    <tr>
                        <td>PNG</td>
                        <td>.png</td>
                        <td>8-bit, 16-bit</td>
                        <td>Grayscale, RGB, RGBA</td>
                    </tr>
                    <tr>
                        <td>TIFF</td>
                        <td>.tif, .tiff</td>
                        <td>8-bit, 12-bit, 16-bit</td>
                        <td>Grayscale, RGB</td>
                    </tr>
                </table>

                <h3>Trajectory Data Formats</h3>

                <table>
                    <tr>
                        <th>Format</th>
                        <th>Extensions</th>
                        <th>Structure</th>
                    </tr>
                    <tr>
                        <td>Excel</td>
                        <td>.xlsx, .xls</td>
                        <td>Each sheet = one object; columns for T, X, Y</td>
                    </tr>
                    <tr>
                        <td>CSV</td>
                        <td>.csv</td>
                        <td>All objects; columns for ID, T, X, Y</td>
                    </tr>
                </table>
            </section>

            <!-- Troubleshooting Section -->
            <section id="troubleshooting">
                <h2>Troubleshooting</h2>

                <div class="card">
                    <div class="card-header">
                        <div class="card-icon orange">â“</div>
                        <div class="card-title">Images not loading properly</div>
                    </div>
                    <ul>
                        <li>Ensure all images in the sequence have the same dimensions</li>
                        <li>Check that image format is supported (JPEG, PNG, TIFF)</li>
                        <li>Verify file naming allows proper natural sorting</li>
                        <li>Check for corrupted image files</li>
                    </ul>
                </div>

                <div class="card">
                    <div class="card-header">
                        <div class="card-icon orange">â“</div>
                        <div class="card-title">Trajectory data not recognized</div>
                    </div>
                    <ul>
                        <li>Check column mapping in the load dialog</li>
                        <li>Ensure data types are numeric (not text)</li>
                        <li>Verify time and coordinate units are correct</li>
                        <li>Check for empty cells or invalid values</li>
                    </ul>
                </div>

                <div class="card">
                    <div class="card-header">
                        <div class="card-icon orange">â“</div>
                        <div class="card-title">Export is slow</div>
                    </div>
                    <ul>
                        <li>Large images or many frames require more processing time</li>
                        <li>Consider reducing output resolution if possible</li>
                        <li>Close other applications to free system resources</li>
                        <li>GIF export is generally slower than MP4</li>
                    </ul>
                </div>

                <div class="card">
                    <div class="card-header">
                        <div class="card-icon orange">â“</div>
                        <div class="card-title">Labels not appearing in export</div>
                    </div>
                    <ul>
                        <li>Ensure labels are enabled in parameter panel</li>
                        <li>Check that labels are within image boundaries</li>
                        <li>Verify font files are available (Windows Fonts folder)</li>
                        <li>Use Final Preview mode to verify label positions</li>
                    </ul>
                </div>

                <div class="card">
                    <div class="card-header">
                        <div class="card-icon orange">â“</div>
                        <div class="card-title">Colorbar not showing</div>
                    </div>
                    <ul>
                        <li>Colorbar only appears in Velocity Color mode</li>
                        <li>Enable colorbar in the parameter panel</li>
                        <li>Ensure trajectory visualization is enabled</li>
                        <li>Check that min/max range is valid (max > min)</li>
                    </ul>
                </div>
            </section>
        </div>

        <!-- Footer -->
        <footer class="footer">
            <div class="footer-content">
                <div class="footer-text">
                    Bac-Motion Visualization v1.1.0 (Updated: 2026-01-21) â€” Copyright Â© 2026 Lucien&emsp;&emsp;&emsp;Email: lucien-6@qq.com&emsp;&emsp;&emsp;GitHub: https://github.com/lucien-6
                </div>
            </div>
        </footer>
    </main>

    <!-- Scroll to Top Button -->
    <button class="scroll-top" onclick="window.scrollTo({top: 0, behavior: 'smooth'})">â†‘</button>

    <script>
        // Smooth scrolling for navigation links
        document.querySelectorAll('.nav-link').forEach(link => {
            link.addEventListener('click', function(e) {
                e.preventDefault();
                const targetId = this.getAttribute('href').substring(1);
                const targetElement = document.getElementById(targetId);
                if (targetElement) {
                    targetElement.scrollIntoView({ behavior: 'smooth' });
                }
                
                // Update active state
                document.querySelectorAll('.nav-link').forEach(l => l.classList.remove('active'));
                this.classList.add('active');
            });
        });

        // Highlight current section in navigation
        window.addEventListener('scroll', function() {
            const sections = document.querySelectorAll('section[id]');
            let currentSection = '';
            
            sections.forEach(section => {
                const sectionTop = section.offsetTop - 100;
                if (window.scrollY >= sectionTop) {
                    currentSection = section.getAttribute('id');
                }
            });
            
            document.querySelectorAll('.nav-link').forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('href') === '#' + currentSection) {
                    link.classList.add('active');
                }
            });
            
            // Show/hide scroll-to-top button
            const scrollBtn = document.querySelector('.scroll-top');
            if (window.scrollY > 300) {
                scrollBtn.style.display = 'block';
            } else {
                scrollBtn.style.display = 'none';
            }
        });
    </script>
</body>
</html>
